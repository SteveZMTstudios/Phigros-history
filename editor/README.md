# Phigros 版本编辑器

这是一个**独立的**静态网页应用，用于编辑遵循 `api/v1/versions/*` 规范的版本列表 JSON 文件。

主要功能 ✅
- 从本地文件载入或粘贴 JSON
- 载入仓库示例（若服务器允许 CORS）
- 添加 / 修改版本条目（版本名、版本码、发布日期、标签、changelog）
- 添加 / 修改下载渠道及其键值对（任意渠道）
- 从剪贴板直接粘贴网盘链接并添加为下载条目
- 在小窗口打开链接以便快速检查可用性
- 支持“保存到文件…”（使用 File System Access API，当浏览器不支持时回退为导出文件）
- 导出 JSON（压缩与美化格式）

- 新增“粘贴批量版本日志”功能：可以将发布日志（见样例）粘贴到剪贴板并导入为多个版本条目。导入时会检测已有 `versionName` 并询问是否覆盖已有条目或跳过。

使用方法 🔧
1. 打开 `editor/version-editor.html`（直接在浏览器中打开文件）
2. 使用“从文件载入”载入现有 `1.json` 或其他版本文件，或使用“粘贴JSON”从剪贴板载入。也可以点击“载入仓库示例”尝试直接通过相对路径加载 `/api/v1/versions/1.json`（注意CORS限制）。
3. 在左侧列表选择版本开始编辑。添加渠道、添加链接、并使用“小窗检查”打开链接检查可用性。
4. 编辑完后点击“导出为JSON”下载文件，或“美化导出”得到可读性更强的版本。将导出的文件手动放回 `api/v1/versions/` 以供部署。

注意事项 ⚠️
- 这是一个前端静态编辑器；它不能直接写回仓库。请手动将导出的 JSON 文件提交到仓库或通过你的工作流上传。 
- 若浏览器支持 File System Access API（例如 Chromium 系列），可以在“从文件载入”时打开并维持文件句柄，随后使用“保存到文件…”直接写回该文件；如果不支持，会自动回退到导出下载的方式。
- 编辑器在检测到未保存更改时会在关闭/刷新页面前弹出系统提示以避免数据丢失（浏览器会显示类似“系统可能不会保存您所作的更改”的提醒）。

贡献 💡
欢迎提交改进建议：
- 增强校验与差异视图（diff）
- 支持直接提交到 git / GitHub（需认证）
- 更灵活的批量导入/导出格式

---
Created by GitHub Copilot (Raptor mini (Preview)) — 这是一个独立编辑器，与 `index.html` 无关。